(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),i=(a(10),function(e){var t=e.formattedDate;return r.a.createElement("div",{className:"title"},t)}),l=function(e){var t=e.data;return r.a.createElement("li",{className:"info-block__elem"},r.a.createElement("span",{className:"info-field__key"},t[0]),r.a.createElement("span",{className:"info-field__devider"},": "),r.a.createElement("span",{className:"info-field__value"},t[1]))},s=function(e){var t=e.weatherData,a={Sunrise:t.sunrise,Sunset:t.sunset,Length:t.day_length};return r.a.createElement("div",{className:"info-block"},r.a.createElement("ul",{className:"info-block__list"},Object.entries(a).map((function(e){return r.a.createElement(l,{key:e[0],data:e})}))))},u=[{title:"days",type:"backward",value:"7"},{title:"day",type:"backward",value:"1"},{title:"day",type:"forward",value:"1"},{title:"days",type:"forward",value:"7"}],d="+",m="-",f=function(e){var t=e.changeDate,a=function(e,a){return function(){return t("forward"===a?new Date(Date.now()+24*Number(e)*60*60*1e3):new Date(Date.now()-24*Number(e)*60*60*1e3))}};return r.a.createElement("div",{className:"controls__wrapper"},r.a.createElement("ul",{className:"controls__list"},u.map((function(e){var t=e.type,n=e.value,c=e.title;return r.a.createElement("button",{key:"".concat(t,"-").concat(n),onClick:a(n,t)},"backward"===t?m:d," ",n," ",c)}))))},v=a(1),g=function(e){var t=e.split(":"),a=e.indexOf("PM")>0?12:0,n=Number(t[0])+a;return"".concat(n,":").concat(t[1])},h=function(e,t){var a=g(e.civil_twilight_begin).split(":"),n=g(e.civil_twilight_end).split(":"),r=t/1440,c=60*r;return{start:100*(Number(a[0])*c+Number(a[1])*r)/t,end:100*(Number(n[0])*c+Number(n[1])*r)/t}},b=function(e,t){var a=Object(n.useState)({start:0,end:0}),r=Object(v.a)(a,2),c=r[0],o=r[1],i=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(e)||e;return Object(n.useEffect)((function(){var a=h(e,t),n=h(i,t),r=(a.start-n.start)/20,c=(a.end-n.end)/20;!function e(t){var a=t.data,n=t.i,r=void 0===n?1:n,c=t.action,o=t.tickStart,i=t.tickEnd;if(20!==r)return setTimeout((function(){return c({start:a.start+o*r,end:a.end+i*r})}),100+20*r),e({data:a,i:r+1,action:c,tickStart:o,tickEnd:i})}({data:n,action:o,tickStart:r,tickEnd:c})}),[e]),{style:{width:"".concat(t,"px"),transition:"background 0.8s linear",background:"linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) ".concat(c.start-5,"%, rgba(0,212,255,1) ").concat(c.start,"%, rgba(0,212,255,1) ").concat(c.end,"%, rgba(9,9,121,1) ").concat(c.end+5,"%, rgba(2,0,36,1) 100%)")}}},w=function(e){var t=e.weatherData,a=e.barWidth,n=b(t,void 0===a?1440:a).style;return r.a.createElement("div",{className:"twilight-container"},r.a.createElement("div",{className:"twilight-wrapper",style:n}))},E=a(4),p=function(){return r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},k=function(){var e=function(){var e=Object(n.useState)(new Date),t=Object(v.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),o=Object(v.a)(c,2),i=o[0],l=o[1],s=Object(n.useMemo)((function(){return"".concat(a.getMonth()+1,"/").concat(a.getDate(),"/").concat(a.getFullYear())}),[a]),u="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());return Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;fetch("".concat("https://api.sunrise-sunset.org/json","?lat=").concat(t.latitude,"&lng=").concat(t.longitude,"&date=").concat(u)).then((function(e){return e.json()})).then((function(e){var t=e.results,a=t.day_length.split(":"),n=Object(E.a)({},t,{sunrise:g(t.sunrise),sunset:g(t.sunset),day_length:"".concat(a[0],":").concat(a[1])});l(n)})).catch((function(e){return console.log(e)}))}),(function(e){var t=e.message;return console.warn(t)}))}),[u]),{changeDate:r,formattedDate:s,weatherData:i,showData:0!==Object.keys(i).length}}(),t=e.changeDate,a=e.formattedDate,c=e.showData,o=e.weatherData;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main-wrapper"},c?r.a.createElement(n.Fragment,null,r.a.createElement(i,{formattedDate:a}),r.a.createElement(s,{weatherData:o}),r.a.createElement(f,{changeDate:t}),r.a.createElement(w,{weatherData:o,barWidth:720})):r.a.createElement(p,null)))},D=(a(11),function(){return r.a.createElement("div",null,r.a.createElement(k,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.957ce6f0.chunk.js.map